# This application deploys to staging then production with an approval.
# It also customizes the namespace that Prodvana deploys to, instead of using the autogenerated namespace.
# The custom namespace must already exist.
application:
  name: staging-prod-custom-namespace
  releaseChannelGroups:
    - name: staging
      runtimeSelector: env=staging
      template:
        runtimes:
          - runtime: "{{.Builtins.Runtime.Name}}"
            containerOrchestration:
              k8s:
                namespace: custom-namespace
    - name: production
      runtimeSelector: env=production
      template:
        preconditions:
          - releaseChannelStable:
              selector: "@group=staging"
          - manualApproval: {}
        runtimes:
          - runtime: "{{.Builtins.Runtime.Name}}"
            containerOrchestration:
              k8s:
                namespace: custom-namespace
